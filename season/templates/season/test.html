{% extends "base.html" %}
{% load static %}
{% load blog_tags %}

<!---- TITLE --------->
{% block title.     %}Dashboard {% endblock %}
{% block breadcrumb %}Dashboard {% endblock %}

<!---- STYLE --------->
{% block css %}
<!---This css makes scroller in process box stay in shape -->
<link href= {% static "/season/assets/libs/metrojs/release/MetroJs.Full/MetroJs.min.css" %} rel="stylesheet" type="text/css" />

<style>
   .progress{
      background-color: #444;
   }
   .f_badges{
      height:45px;
      width: 45px;
   }
   #step-0, #step-1{
       margin-top: 20px;
   }
   #step-2, #step-3, #step-4, #step-5, #step-6, #step-7 {
      margin: 50px 0px 0px 30px;
   }
   div.popover-content{
      margin:5px;
   }
   .tour-tour, .tour-tour .popover-title, div.popover-content {
      background-color: #DA6020;
      padding: 5px;
      border-color:white;
      border-width:2px;
      color: white;
   }
</style>
{% endblock %}

<!---- BODY CONTENT --------->
{% block content %}
<!-- ============================================================== -->
<!-- Start right Content here -->
<!-- ============================================================== -->

        <div class="container-fluid"> <!---Graph -->
            <div class="row justify-content-md-center">
                <div class="col-xl-10">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mb-3">Driver Results</h5>
                            <div class="row justify-content-end">
                                <div class="col-xl-12 align-self-center">
                                    <ul class="list-unstyled list-inline float-right" id="tour1">
                                        <li class="list-inline-item px-3">
                                            <h5 class="mt-0">$ 42,000 </h5>
                                            <small class="font-size-14 text-muted">Total Budget</small>
                                        </li>
                                        <li class="list-inline-item px-3">
                                            <h5 class="mb-2">$ 7,200 </h5>
                                            <small class="font-size-14 text-muted">Remaining</small>
                                        </li>
                                        <li class="list-inline-item px-3">
                                            <h5 class="text-danger mb-2"><i class="mdi mdi-arrow-down-bold font-size-14 text-danger"></i> 7.9% </h5>
                                            <span class="font-size-14 text-danger">Over Target Currently</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div id="extra-area-chart" class="morris-charts project-budget-chart" style="height: 322px;" dir="ltr" ></div>
                            <ul class="list-unstyled text-center text-muted mb-0 mt-2">
                                <li class="list-inline-item font-size-13"><i class="mdi mdi-album font-size-16 text-primary mr-2"></i>Total Budget</li>
                                <li class="list-inline-item font-size-13"><i class="mdi mdi-album font-size-16 text-success mr-2"></i>Amount Used</li>
                                <li class="list-inline-item font-size-13"><i class="mdi mdi-album font-size-16 text-secondary mr-2"></i>Target Amount</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
<!--end row 2 -->

<!--end row 3 -->

<!---- ROW 2 ------------------------>




<div class="row row justify-content-md-center">
   <div class="col-xl-3 col-sm-4"> <!-- Tour -->
      <div class="card">
         <div class="card-body" id="tour2">
            <h5 class="mt-0 ml-2">How does this all work?</h5>
            <br /><br />
            <div class = "row justify-content-md-center">
               <div class="text-center knob-prosess-btn">
                  <a class="btn btn-sm  btn-primary text-white px-3 mt-2 mb-0" id="tourStart">Take the guided tour</a>
               </div>
            </div>
            <br /><br />
         </div>
      </div>
   </div>


   <div class="col-xl-3 col-sm-4"> <!-- Scroller -->
      <div class="card">
         <div class="card-body" id="tour2">
            <h5 class="mt-0 ml-2">Team Progress</h5>
            <div class = "row justify-content-md-center">
               <div style="width:100px;">
                     <div class="live-tile" data-mode="carousel" data-direction="vertical" data-delay="3500" data-height="10">
                     <!-- <div class="live-tile" data-mode="carousel" data-direction="horizontal" data-delay="3500" data-height="10"> -->
                        <div class="mt-2">
                           <h5 class="text-primary pt-2">F1 Score</h5>
                           <small class="text-muted">After 2 of 10 races</small>
                           <h3 class="text-dark mt-1">108 Points</h3>
                        </div>
                        <div class="mt-2">
                           <h5 class="text-primary pt-2">F2 Score</h5>
                           <small class="text-muted">After 2 of 10 races</small>
                           <h3 class="text-dark mt-1">108 Points</h3>
                        </div>
                        <div class="mt-2">
                           <h5 class="text-primary pt-2">F3 Score</h5>
                           <small class="text-muted">After 2 of 10 races</small>
                           <h4 class="text-dark mt-1">108 Points</h4>
                        </div>
                        <div class="mt-2">
                           <h5 class="text-primary pt-2">W Series Score</h5>
                           <small class="text-muted">After 2 of 10 races</small>
                           <h4 class="text-dark mt-1">108 Points</h4>
                        </div>
                     </div>
               </div>
             </div>
         </div>
      </div>
   </div>

   <div class="col-xl-3 col-sm-4"> <!-- Knob chart -->
      <div class="card" id="tour3">
         <div class="card-body">
            <div class="text-center knob-Prosess mt-4 mt-sm-0" dir="ltr">
               <input class="knob animated" id="fuelgauge" value="0" rel="35" data-width="80" data-height="80" data-linecap=round
               data-fgColor="#44a2d2"  data-skin="tron" data-angleOffset="180"
               data-readOnly=true data-thickness=".1"/>
               <h4 class="text-dark mt-1">Budget Remaining</h4>

               <div class="text-center knob-prosess-btn">
                  <a class="btn btn-sm  btn-primary text-white px-3 mt-2 mb-0" id="fire">Refresh</a>
               </div>

            </div>
         </div>
      </div>
   </div>
</div> <!-- End Knob chart -->
<!---- ROW 2 ------------------------>
            </div><!--end row-->
        </div> <!-- container-fluid -->



<br /><br /><br /><br />
<!-- end main content-->
{% endblock %}
<!---- BODY CONTENT BLOCK --------->

<!---------------------- FOOTER BLOCK  ------------------->
{% block footer %}
{% endblock %}
<!---------------------- FOOTER BLOCK  ------------------->

<!---------------------- JAVASCRIPT BLOCK  ------------------->
{% block javascript %}

       Morris.Area( {
          element: 'extra-area-chart', data: [
               {y: 'BAH', a: 10  , b: 0},
               {y: 'EMI', a: 0   , b: 0},
               {y: 'POR', a: 25  , b: 0},
               {y: 'SPA', a: 20  , b: 0},
               {y: 'MON', a: 18  , b: 10},
               {y: 'AZE', a: 25  , b: 0},
               {y: 'CAN', a: 6   , b: 0},
               {y: 'FRE', a: 20  , b: 0},
               {y: 'AUS', a: 20  , b: 0},
               {y: 'BRI', a: 20  , b: 0},
               {y: 'HUN', a: 20  , b: 0},
               {y: 'BEL', a: 20  , b: 0},
               {y: 'DUT', a: 20  , b: 0},
               {y: 'ITA', a: 20  , b: 0},
               {y: 'RUS', a: 20  , b: 0},
               {y: 'SIN', a: 20  , b: 0},
               {y: 'JAP', a: 20  , b: 0},
               {y: 'USA', a: 20  , b: 0},
               {y: 'MEX', a: 20  , b: 0},
               {y: 'BRA', a: 20  , b: 0},
               {y: 'AUS', a: 20  , b: 0},
               {y: 'SAU', a: 20  , b: 0},
               {y: 'ABU', a: 20  , b: 0}
          ],
          lineColors: [ '#009688', '#fdb93e', '#148cca'],
          xkey: 'y',
          ykeys: [ 'a', 'b', 'c'],
          ymax: 25,
          parseTime: false,                          //Stops the date formatting
          labels: [ 'Hamilton', 'Vettel', 'Norris'],
          pointSize: 0, lineWidth: 0,
          resize: true,
          fillOpacity: 0.8,
          behaveLikeLine: true,
          gridLineColor: 'rgba(108, 120, 151, 0.2)',
          hideHover: 'auto'
      }
      );

 // Knob Chart
    $(".knob").knob({
        'format' : function (value) {
           return value + '%';
        }
      });

      $('.knob').each(function () {

        var $this = $(this);
        var myVal = $this.attr("rel");
        $this.knob();

        $({
            value: 0
        }).animate({
            value: myVal
        }, {
            duration: 2000,
            easing: 'swing',
            step: function () {
                $this.val(Math.ceil(this.value)).trigger('change');

            },
        })
    });

// Metro ////////////////
    $(".live-tile, .flip-list").not(".exclude").liveTile();

//Tour /////////////////
      var tour = new Tour({
        steps: [{
            element: "#vertical-menu-btn",
            title: "<---- 1: Menu Bar ",
            content: "This is the menu expander, click to toggle the menu bar in and out<br/><br/>",
            placement: 'right'
          },
          {
            element: "#fullscreenbutton",
            title: "<center>&nbsp;&nbsp;&nbsp;2: Full Screen ----></center>",
            content: "Click here make this window fill the screen",
            placement: 'left'
          },
          {% if user.is_authenticated %}
          {
            element: "#MyTeamHeader",
            title: "<---- 3. My Team",
            content: "Here you can select your team and see how well they are doing",
            placement: 'right'
          },
          {% else %}
          {
            element: "#Register",
            title: "<---- 3. Register",
            content: "When you're ready, start here by setting up your account",
            placement: 'right'
          },
          {% endif %}
          {
            element: "#LeagueHeader",
            title: "<---- 4. League Table",
            content: "See where your team is placed in the League",
            placement: 'right'
          },
          {
            element: "#Drivers_tour",
            title: "<---- 5. Drivers",
            content: "Study the drivers and their form",
            placement: 'right'
          },
          {
            element: "#Calendar_tour",
            title: "<---- 6. Race Calendar",
            content: "See whats on and where, with results as they come in",
            placement: 'right'
          },
          {
            element: "#Guides_tour",
            title: "<---- 7. Guides and Rules",
            content: "See how we score the races and pick up tips on strategy..",
            placement: 'right'
          },
          {
            element: "#GPG_tour",
            title: "<---- 8. GP GrandStand",
            content: "..and lastly, don't forget to keep up to date on the latest news with GP Grandstand",
            placement: 'right'
          }
        ],
        template:
        "<div class='popover tour-active tour'><h5 class='popover-title'></h5><div class='popover-content'></div><div class='popover-navigation'><center><button class='btn btn-info ml-1' data-role='next'>Next »</button><button class='btn btn-danger ml-2' data-role='end'><i class='mdi mdi-power mr-2'></i>End</button></center></div></div>",
        backdrop: 'true',
        autoscroll: 'false',
        orphan:'true',
      });

    // Tour Button Activate
    $("#tourStart").click(function(){

      // Clear session data
      localStorage.clear();

      // Initialize the tour
      tour.init();

      // Start the tour
      tour.start();
    });

// END TOUR ////////////////

    $("#fire").click(function(){
       x = 80
       $("#fuelgauge").val(x).trigger('change');  //.trigger('draw');
    });

    {% endblock %}

<!---------------------- JAVASCRIPT BLOCK  ------------------->

{% block pagescripts %}
<script src="{% static 'season/assets/libs/bootstrap-tour/build/js/bootstrap-tour.min.js' %} "></script>
<script src="{% static 'season/assets/libs/bootstrap-tour/build/js/bootstrap-tour-standalone.min.js' %} "></script>

<!--Morris Chart-->
<script src="{% static 'season/assets/libs/morris.js/morris.min.js' %}"></script>
<script src="{% static 'season/assets/libs/raphael/raphael.min.js' %}"></script>
<script src="{% static 'season/assets/libs/jquery-knob/jquery.knob.min.js' %}"></script>
<script src="{% static 'season/assets/libs/metrojs/release/MetroJs.Full/MetroJs.min.js' %}"></script>
{% endblock %}
